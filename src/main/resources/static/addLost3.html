<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="multipart/form-data; charset=utf-8" />
    <!--    <meta http-equiv="Content-Type" content="multipart/form-data;  charset=utf-8" />-->

    <title>Signin Template · Bootstrap</title>
    <script type="text/javascript" src="http://localhost:8080/js/jquery-1.12.4.min.js"></script>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.3/examples/sign-in/">

    <!-- Bootstrap core CSS -->
    <link href="https://getbootstrap.com/docs/4.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>
<body>
<hr/>
<h3>1、单文件上传</h3>

<form id="addForm" enctype="multipart/form-data">
    <input type="hidden" name="uId">
    <div class="form-group">
        <label class="control-label">商品名称:</label>
        <input type="text" name="pName" class="form-control">
    </div>
    <div class="form-group">
        <label class="control-label">库存:</label>
        <input type="text" name="pStock" class="form-control">
    </div>
    <div class="form-group">
        <label class="control-label">成本价:</label>
        <input type="text" name="pCost" class="form-control">
    </div>
    <div class="form-group">
        <label class="control-label">商品价格:</label>
        <input type="text" name="pPrice" class="form-control">
    </div>
    <div class="form-group">
        <label class="control-label">商品描述:</label>
        <input type="text" name="pDescription" class="form-control">
    </div>
    <div class="form-group">
        <label class="control-label">商品图片:</label>
        <input type="file" name="pPicture" class="form-control">
    </div>
</form>
<button id="confirmAdd">123</button>

<script type="text/javascript">
    $("#confirmAdd").click(function () {
        var formdata = new FormData($("#addForm")[0]);
        $.ajax({
            type:"POST",
            dataType:"json",
            url:"http://localhost:8080/addProduct",
            data:formdata,
            async:false,
            cache:false,
            contentType:false,
            processData:false,
            success:function(msg){
                if(msg){
                    alert("文件上传")
                }
            }
        })
    })
</script>
</body>
</html>